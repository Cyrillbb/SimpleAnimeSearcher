(this["webpackJsonpaime_searche_1.1"]=this["webpackJsonpaime_searche_1.1"]||[]).push([[0],{14:function(e,t,a){},22:function(e,t,a){e.exports=a(38)},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),i=a.n(s),c=(a(27),a(16)),o=a(17),l=a(20),u=a(21),m=a(4),f=a(6),p={apiURL:"https://kitsu.io/api/edge/anime?",nameSearch:"&filter[text]=",topRated:"&sort=ratingRank",mostPop:"&sort=popularityRank",topAir:"&filter[status]=current&sort=popularityRank",resultsNum:16,pageLim:"&page[limit]=",pageOff:"&page[offset]=",categories:"https://kitsu.io/api/edge/categories?sort=-totalMediaCount&page[limit]=60&page[offset]=0",filter:"&fields[anime]=id,posterImage,titles,canonicalTitle,averageRating,popularityRank,ageRating,episodeCount,status,synopsis",categSearch:"filter[categories]="},d="topRated",h="mostPop",g="topAir",v=function(e){return""===e.searchInput?p.apiURL+p[e.searchType]+p.pageLim+p.resultsNum+p.pageOff+e.pgOffset+p.filter:p.apiURL+e.searchInput+p.pageLim+p.resultsNum+p.pageOff+e.pgOffset+p.filter},E=function(e){return fetch(e,{method:"GET",headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}).then((function(e){return e.json()})).then((function(e){return e.data}))};a(28);var S=function(e){return r.a.createElement("div",{className:"buttonBar"},r.a.createElement("button",{value:d,onClick:e.sort},"Top rated"),r.a.createElement("button",{value:h,onClick:e.sort},"Most popular"),r.a.createElement("button",{value:g,onClick:e.sort},"Top Airing"),r.a.createElement(m.b,{className:"linkButton",to:"/SimpleAnimeSearcher/categories"},"Categories"))};a(34);function N(e){return r.a.createElement("div",{className:"searchBar"},r.a.createElement("input",{className:"input",id:"search",type:"text",placeholder:"Search anime",onChange:e.search}),r.a.createElement(m.b,{className:"link",to:"/SimpleAnimeSearcher"},"Home"),r.a.createElement(m.b,{className:"link",to:"/SimpleAnimeSearcher/favorites"},"Favorites"))}a(35);var y=function(e){return r.a.createElement("div",{className:"header"},r.a.createElement(N,{search:e.search}),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/SimpleAnimeSearcher"},r.a.createElement(S,{sort:e.sort,categories:e.categories}))))};a(36);var b=function(e){return r.a.createElement("div",{className:"card",id:e.id},e.children,r.a.createElement("button",{className:"cardButton",onClick:function(e){"card"===e.target.parentElement.className?(e.target.parentElement.className="cardGrow",e.target.innerText="Hide",document.getElementById(e.target.parentElement.id+"desc").className="desc"):"cardGrow"===e.target.parentElement.className&&(e.target.parentElement.className="card",e.target.innerText="More info",document.getElementById(e.target.parentElement.id+"desc").className="descHide")}},"More info"))};a(14);function k(e){return r.a.createElement("div",{style:{backgroundColor:"#000000"}},r.a.createElement("div",{className:"list"},e.animeArr.map((function(t){return r.a.createElement(b,{key:t.id,id:t.id},r.a.createElement("h3",{className:"cardH"},r.a.createElement("span",{className:"favIcon"},-1===e.favId.indexOf(t.id)?r.a.createElement("i",{style:{color:"#FF851B"},className:"far fa-star",onClick:function(){e.fav(t)}}):r.a.createElement("i",{style:{color:"#FF851B"},className:"fas fa-star",onClick:function(){e.fav(t)}})),"Title: ",t.attributes.canonicalTitle),r.a.createElement("p",null,"Avrage Rating:   ",t.attributes.averageRating),r.a.createElement("p",null,"Popularity rank: ",t.attributes.popularityRank),r.a.createElement("p",null,"Age rating: ",t.attributes.ageRating),r.a.createElement("p",null,"Number of episodes: ",t.attributes.episodeCount),r.a.createElement("p",null,"Status: ",t.attributes.status),r.a.createElement("img",{className:"img",src:t.attributes.posterImage.medium,alt:""}),r.a.createElement("p",{className:"descHide",id:t.id+"desc"},"Synopsis: ",t.attributes.synopsis))}))),r.a.createElement("button",{onClick:e.more},"Show more"))}var I=a(7),R=a.n(I);function A(e){return r.a.createElement("div",{className:"list"},e.favArr.map((function(t){return r.a.createElement(b,{key:t.attributes.canonicalTitle+"fav",id:t.id},r.a.createElement("h3",null,r.a.createElement("span",{className:"favIcon"},r.a.createElement("i",{style:{color:"#FF851B"},className:"fas fa-star",onClick:function(){return e.fav(t)}})),"Title: ",t.attributes.canonicalTitle),r.a.createElement("p",null,"Avrage Rating:   ",t.attributes.averageRating),r.a.createElement("p",null,"Age rating: ",t.attributes.ageRating),r.a.createElement("p",null,"Number of episodes: ",t.attributes.episodeCount),r.a.createElement("p",null,"Status: ",t.attributes.status),r.a.createElement("img",{className:"img",src:t.attributes.posterImage.medium,alt:""}),r.a.createElement("p",{className:"descHide",id:t.id+"desc"},"Synopsis: ",t.attributes.synopsis))})))}b.propTypes={favArr:R.a.array};a(37);function O(e){return r.a.createElement("div",{className:"categories"},r.a.createElement("div",{className:"catHead"},"Categories"),r.a.createElement("div",{className:"categoriesList"},e.categories.map((function(t){return r.a.createElement(m.b,{to:"/SimpleAnimeSearcher",className:"catLink",key:t.id,onClick:function(){e.catSearch(t.attributes.title)}},t.attributes.title)}))))}var C=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleButtonSort=function(e){n.setState({searchType:e.target.value,searchInput:"",pgOffset:0,categoryName:""},(function(){E(v(n.state)).then((function(e){return n.setState({searchResults:e})}))}))},n.handleSearch=function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,r)}),t)}}((function(){n.setState({searchInput:p.nameSearch+document.getElementById("search").value,pgOffset:0,categoryName:""},(function(){E(v(n.state)).then((function(e){return n.setState({searchResults:e})}))}))}),700),n.handleMore=function(){n.setState({pgOffset:n.state.pgOffset+p.resultsNum},(function(){E(v(n.state)).then((function(e){return n.setState({searchResults:n.state.searchResults.concat(e)})}))}))},n.handleSearchByCat=function(e){console.log(n.state),n.setState({searchInput:p.categSearch+e+p.mostPop},(function(){E(v(n.state)).then((function(e){return n.setState({searchResults:e})}))}))},n.handleFav=function(e){if(localStorage.clear(),-1===n.state.favorites.indexOf(e)&&-1===n.state.favId.indexOf(e.id))n.setState({favorites:n.state.favorites.concat([e]),favId:n.state.favId.concat([e.id])});else{var t=n.state.favorites,a=n.state.favId;t.splice(a.indexOf(e.id),1),a.splice(a.indexOf(e.id),1),n.setState({favorites:t,favId:a})}},n.state={searchInput:"",searchType:h,searchResults:[],favorites:[],favId:[],categories:[],pgOffset:0,categoryName:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.length>0&&this.setState({favorites:JSON.parse(localStorage.getItem("items")),favId:JSON.parse(localStorage.getItem("ids"))}),E(v(this.state)).then((function(t){return e.setState({searchResults:t})})),E(p.categories).then((function(t){return e.setState({categories:t})}),console.log(this.state))}},{key:"componentDidUpdate",value:function(){this.state.favorites.length>0&&(localStorage.setItem("items",JSON.stringify(this.state.favorites)),localStorage.setItem("ids",JSON.stringify(this.state.favId)))}},{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(y,{sort:this.handleButtonSort,search:this.handleSearch,categories:this.handleGetCategories}),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/SimpleAnimeSearcher"},r.a.createElement(k,{animeArr:this.state.searchResults,more:this.handleMore,fav:this.handleFav,favArr:this.state.favorites,favId:this.state.favId})),r.a.createElement(f.a,{exact:!0,path:"/SimpleAnimeSearcher/favorites"},r.a.createElement(A,{favArr:this.state.favorites,fav:this.handleFav})),r.a.createElement(f.a,{exact:!0,path:"/SimpleAnimeSearcher/categories"},r.a.createElement(O,{categories:this.state.categories,catSearch:this.handleSearchByCat}))))}}]),a}(r.a.Component);var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.1b2eabe3.chunk.js.map